{% extends "admin/base_site.html" %}
{% load i18n admin_static %}
{% load custom_tags %}

{% block extrastyle %}
  {{ block.super }}
{% endblock %}

{% block coltype %}colMS{% endblock %}

{% block bodyclass %}dashboard{% endblock %}

{% block breadcrumbs %}{% endblock %}

{% block h1-title %} Dashboard {% endblock %}

{% block extrahead %}
  {{ block.super }}
  {{ media.js }}
  <script type="text/javascript" src="{% static "admin/js/Chart.min.js" %}"></script>
{% endblock %}
{% block content %}
      <section id="main-content">
        <section class="wrapper">
            <div class="">
                <div class="span12">
                    <section class="panel">
                        <header class="panel-heading">
                            <i class="icon-signal"></i> <h3>Vendas</h3>
                        <span class="tools pull-right">
                            <a href="javascript:;" class="fa fa-chevron-down"></a>
                            <a href="javascript:;" class="fa fa-cog"></a>
                            <a href="javascript:;" class="fa fa-times"></a>
                         </span>
                        </header>
                        <div class="panel-body">
                            <div class="chartJS">
                                <canvas id="line-chart-js" style="width:100%;height:300px" ></canvas>
                            </div>
                        </div>
                    </section>
                </div>
            </div>
            <div class="">
                <div class="span6">
                    <section class="panel">
                        <header class="panel-heading">
                            <i class="icon-signal"></i> <h3>Contatos</h3>
                        <span class="tools pull-right">
                            <a href="javascript:;" class="fa fa-chevron-down"></a>
                            <a href="javascript:;" class="fa fa-cog"></a>
                            <a href="javascript:;" class="fa fa-times"></a>
                         </span>
                        </header>
                        <div class="panel-body">
                            <div class="chartJS">
                                <canvas id="line-chart2-js" style="width:100%;height:300px" ></canvas>
                            </div>
                        </div>
                    </section>
                </div>
                <div class="span6">
                    <section class="panel">
                        <header class="panel-heading">
                            <i class="icon-signal"></i> <h3>Clientes</h3>
                        <span class="tools pull-right">
                            <a href="javascript:;" class="fa fa-chevron-down"></a>
                            <a href="javascript:;" class="fa fa-cog"></a>
                            <a href="javascript:;" class="fa fa-times"></a>
                         </span>
                        </header>
                        <div class="panel-body">
                            <div class="chartJS">
                                <canvas id="line-chart3-js" style="width:100%;height:300px" ></canvas>
                            </div>
                        </div>
                    </section>
                </div>
            </div>
            <div class="">
                <div class="span6">
                    <section class="panel">
                        <header class="panel-heading">
                            <i class="icon-signal"></i> <h3>Membros</h3>
                        <span class="tools pull-right">
                            <a href="javascript:;" class="fa fa-chevron-down"></a>
                            <a href="javascript:;" class="fa fa-cog"></a>
                            <a href="javascript:;" class="fa fa-times"></a>
                         </span>
                        </header>
                        <div class="panel-body">
                            <div class="chartJS">
                                <canvas id="line-chart4-js" style="width:100%;height:300px" ></canvas>
                            </div>
                        </div>
                    </section>
                </div>
                <div class="span6">
                    <section class="panel">
                        <header class="panel-heading">
                           <i class="icon-signal"></i> <h3>Graduações</h3>
                        <span class="tools pull-right">
                            <a href="javascript:;" class="fa fa-chevron-down"></a>
                            <a href="javascript:;" class="fa fa-cog"></a>
                            <a href="javascript:;" class="fa fa-times"></a>
                         </span>
                        </header>
                        <div class="panel-body">
                            <div class="chartJS">
                                <canvas id="pie-chart-js" height="250" width="250" ></canvas>
                                <div id="pie-chart-legend"></div>
                            </div>
                        </div>
                    </section>
                </div>
                </div>
        <!-- page end-->
        </section>
    </section>
    <!--{% if app_list %}
      {% for app in app_list %}
        <div class="module">
          <table class="table-overview applist" summary="{% blocktrans with name=app.name %}Models available in the {{ name }} application.{% endblocktrans %}">
            <caption><a href="{{ app.app_url }}" class="section">{% trans app.name %}</a></caption>
            {% for model in app.models %}
              <tr>
                <th scope="row">{{ model.name }}</th>
                {% if model.admin_url %}
                  <td>
                    <a href="{{ model.admin_url }}" class="changelink icon">{% trans 'Change' %}</a>
                  </td>
                {% else %}
                  <td>&nbsp;</td>
                {% endif %}

                {% if model.add_url %}
                  <td><a href="{{ model.add_url }}" class="addlink icon"><i
                          class="icon-plus-sign icon-alpha75"></i>{% trans 'Add' %}
                  </a></td>
                {% else %}
                  <td>&nbsp;</td>
                {% endif %}
              </tr>
            {% endfor %}
          </table>
        </div>
      {% endfor %}
    {% else %}
      <p>{% trans "You don't have permission to edit anything." %}</p>
    {% endif %}-->
    <script type="text/javascript">
    $(document).ready(function(){
    function redraw(animation){


            Chart.defaults.global.animation = true;
            Chart.defaults.global.showScale = true;
            Chart.defaults.global.scaleOverride = false;
            Chart.defaults.global.scaleSteps = null;
            Chart.defaults.global.scaleStepWidth = null;
            Chart.defaults.global.scaleStartValue = null;
            Chart.defaults.global.scaleLineColor = "rgba(0,0,0,.1)";
            Chart.defaults.global.scaleLineWidth = 1;
            Chart.defaults.global.scaleShowLabels = true;
            Chart.defaults.global.scaleLabel = "<%=value%>";
            Chart.defaults.global.scaleIntegersOnly = true;
            Chart.defaults.global.scaleBeginAtZero = false;
            Chart.defaults.global.scaleFontFamily = "'Helvetica Neue', 'Helvetica', 'Arial', sans-serif";
            Chart.defaults.global.scaleFontSize = 12;
            Chart.defaults.global.scaleFontStyle = "normal";
            Chart.defaults.global.scaleFontColor = "#666";
            Chart.defaults.global.maintainAspectRatio = true;
            Chart.defaults.global.showTooltips = true;
            Chart.defaults.global.customTooltips = false;
            Chart.defaults.global.tooltipEvents = ["mousemove", "touchstart", "touchmove"];
            Chart.defaults.global.tooltipFillColor = "rgba(0,0,0,0.8)";
            Chart.defaults.global.tooltipFontFamily = "'Helvetica Neue', 'Helvetica', 'Arial', sans-serif";
            Chart.defaults.global.tooltipFontSize = 12;
            Chart.defaults.global.tooltipFontStyle = "normal";
            Chart.defaults.global.tooltipFontColor = "#fff";
            Chart.defaults.global.tooltipTitleFontFamily = "'Helvetica Neue', 'Helvetica', 'Arial', sans-serif";
            Chart.defaults.global.tooltipTitleFontSize = 12;
            Chart.defaults.global.tooltipTitleFontStyle = "bold";
            Chart.defaults.global.tooltipTitleFontColor = "#fff";
            Chart.defaults.global.tooltipYPadding = 6;
            Chart.defaults.global.tooltipXPadding = 6;
            Chart.defaults.global.tooltipCaretSize = 3;
            Chart.defaults.global.tooltipCornerRadius = 6;
            Chart.defaults.global.tooltipXOffset = 5;
            Chart.defaults.global.tooltipTemplate = "<%= value %>";
            Chart.defaults.global.multiTooltipTemplate = "<%= value %>";
            Chart.defaults.global.legendTemplate = "<ul class=\"<%=name.toLowerCase()%>-legend\"><% for (var i=0; i<segments.length; i++){ %><li><span style=\"background-color:<%=segments[i].fillColor%>\"></span><%if(segments[i].label){ %><%=segments[i].label%><% } %></li><% } %></ul>";



        var Sales = {
            labels : [{% for sale in sales %}"{{sale.published|date:"d/m"}}",{% endfor %}],
            datasets : [
                {
                    fillColor : "#E67A77",
                    strokeColor : "#E67A77",
                    pointColor : "#E67A77",
                    pointStrokeColor : "#fff",
                    data : [{% for sale in sales %}{{sale.total}} ,{% endfor %}]
                 }
            ]
        };

        var Members = {
            labels : [{% for member in members %}"{{member.published|date:"d/m"}}",{% endfor %}],
            datasets : [
                {
                    fillColor : "#79D1CF",
                    strokeColor : "#79D1CF",
                    pointColor : "#79D1CF",
                    pointStrokeColor : "#fff",
                    data : [{% for member in members %}{{member.total}} ,{% endfor %}]
                 }
            ]
        };

        var Clients = {
            labels : [{% for client in clients %}"{{client.published|date:"d/m"}}",{% endfor %}],
            datasets : [
                {
                    fillColor : "#D9DD81",
                    strokeColor : "#D9DD81",
                    pointColor : "#D9DD81",
                    pointStrokeColor : "#fff",
                    data : [{% for client in clients %}{{client.total}} ,{% endfor %}]
                 }
            ]
        };

        var Contacts = {
            labels : [{% for contact in contacts %}"{{contact.published|date:"d/m"}}",{% endfor %}],
            datasets : [
                {
                    fillColor : "#E67A77",
                    strokeColor : "#E67A77",
                    pointColor : "#E67A77",
                    pointStrokeColor : "#fff",
                    data : [{% for contact in contacts %}{{contact.total}} ,{% endfor %}]
                 }
            ],
        };
        var myLineChart = new Chart(document.getElementById("line-chart-js").getContext("2d")).Line(Sales);
        var myLineChart2 = new Chart(document.getElementById("line-chart2-js").getContext("2d")).Line(Contacts);
        var myLineChart3 = new Chart(document.getElementById("line-chart3-js").getContext("2d")).Line(Clients);
        var myLineChart4 = new Chart(document.getElementById("line-chart4-js").getContext("2d")).Line(Members);
        var pieData = [
          {% for level in member_levels%}
            {
                label: "{{level.level__title}}",
                value: {{level.total}},
                color:"{{level.level__color}}",
                highlight:"{{level.level__color}}",
            },
          {% endfor %}];
        var myPie = new Chart(document.getElementById("pie-chart-js").getContext("2d")).Pie(pieData);
        $('#pie-chart-legend').html(myPie.generateLegend());
    }
    redraw(false);

    });


    </script>
{% endblock %}


{% block sidebar %}
  <!--
  <div id="content-related">
    <div class="module" id="recent-actions-module">
      <h4 class="italic-title">{% trans 'My Actions' %}</h4>

      {% load log %}
      {% get_admin_log 10 as admin_log for_user user %}
      {% if not admin_log %}
        <p>{% trans 'None available' %}</p>
      {% else %}
        <ul class="actionlist">
          {% for entry in admin_log %}
            <li class="{% if entry.is_addition %}addlink{% endif %}{% if entry.is_change %}changelink{% endif %}{% if entry.is_deletion %}text-error{% endif %}">

              <i class="{% if entry.is_addition %}icon-plus{% endif %}{% if entry.is_change %}icon-pencil{% endif %}{% if entry.is_deletion %}icon-trash{% endif %} icon-alpha5"></i>

              {% spaceless %}
                {% if entry.is_addition %}{% trans 'added'|capfirst %}{% endif %}
                {% if entry.is_change %}{% trans 'changed'|capfirst %}{% endif %}
                {% if entry.is_deletion %}{% trans 'deleted'|capfirst %}{% endif %}

                {% if entry.content_type %}
                  <span class="mini quiet">{% filter capfirst %}
                    {% trans entry.content_type.name %}{% endfilter %}</span>
                {% else %}
                  <span class="mini quiet">{% trans 'Unknown content' %}</span>
                {% endif %}
              {% endspaceless %}&nbsp;

              {% if entry.is_deletion or not entry.get_admin_url %}
                <span class="color-grey">{{ entry.object_repr }}</span>
              {% else %}
                <a href="{{ entry.get_admin_url }}">{{ entry.object_repr }}</a>
              {% endif %}
            </li>
          {% endfor %}
        </ul>
      {% endif %}
    </div>
  </div>
  -->
{% endblock %}
